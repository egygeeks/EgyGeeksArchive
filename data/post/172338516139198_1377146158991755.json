{"id":"172338516139198_1377146158991755","from":{"name":"Hossam Mohammed","id":"1448877658497908"},"message":"I am making something like a search button for a website. the website is in Arabic so the search queries are all in Arabic. I want to make the queries work even if the searching string(title) wasn't identical to the searched one but had big similarity. like ابعاد سياسيه and أبعاد سياسية for example.\nI thought of making this using LIKE and wildcards.  but it won't work because I am comparing two strings not searching for a pattern of a one into the other so I though I can split the string into words and search for words as a pattern. but It seemed too complex and inaccurate.\nanother approach is to get all the records from the database and compare them to see how much they match up with my search text and if there was a one that highly matches I will get all the full row then. though I think it is very inefficient if the database got larger in size. I want to know if there is a little complex way to do it or if the query I mentioned above is fine.","actions":[{"name":"Comment","link":"https://www.facebook.com/172338516139198/posts/1377146158991755"},{"name":"Like","link":"https://www.facebook.com/172338516139198/posts/1377146158991755"},{"name":"Report Post to Admin","link":"https://www.facebook.com/groups/egyptian.geeks/members/"}],"privacy":{"value":"","description":"","friends":"","allow":"","deny":""},"type":"status","created_time":"2017-02-03T10:13:02+0000","updated_time":"2017-02-05T22:58:04+0000","is_hidden":false,"is_expired":false,"likes":{"data":[{"id":"10154878391766183","name":"Mohamed Fathy"},{"id":"10212418043946652","name":"Ahmed Ashraf Gamal"},{"id":"1200777176707152","name":"Ahmad Dawoud"},{"id":"1364997500240454","name":"Mohamed AbuIssa"}],"paging":{"cursors":{"before":"MTAxNTQ4NzgzOTE3NjYxODMZD","after":"MTM2NDk5NzUwMDI0MDQ1NAZDZD"}}},"comments":{"data":[{"created_time":"2017-02-03T10:15:30+0000","from":{"name":"Mohamed Gamal","id":"10155052545932328"},"message":"How about adding \"tags\" to whatever you're searching , and get all records having tags mentioned in the search query; ordered by number of matched tags","can_remove":false,"like_count":2,"user_likes":false,"id":"1377147775658260"},{"created_time":"2017-02-03T10:21:28+0000","from":{"name":"Ibrahim Hammad","id":"10154094819176486"},"message":"You may have 2 options, \n1. Elastic Search (it has Arabic support). I didn't really use it but I read about it. \n2. Full text search (in SQL,  it has great Arabic support). I used it many years back and it was really helpful.","can_remove":false,"like_count":7,"user_likes":false,"id":"1377150172324687"},{"created_time":"2017-02-03T10:25:24+0000","from":{"name":"Mohamed Osman","id":"10155346413617448"},"message":"Elastic search with relevance score (_score returned from query)","can_remove":false,"like_count":3,"user_likes":false,"id":"1377151598991211"},{"created_time":"2017-02-03T10:32:05+0000","from":{"name":"Ahmed Hammad","id":"10158345084600503"},"message":"What you're looking for is Arabic text normalization\nAnother 2 options to choose from:\n1. If your persistence framework supports regex, then you can alter user input to a regex matching possible character combinations before querying\n2. If not, then you can have 2 columns in your db, one for the text as it is (which you'll use in UI), another with normalized text, which you'll use for searching (after normalizing search term as well)","can_remove":false,"like_count":3,"user_likes":false,"id":"1377154982324206"},{"created_time":"2017-02-03T11:37:04+0000","from":{"name":"Michael Azmy","id":"10155111151572718"},"message":"You should preprocess the queries into common form.\nYou can even get the lemmas of the word and search with them.","can_remove":false,"like_count":1,"user_likes":false,"id":"1377215625651475"},{"created_time":"2017-02-03T13:32:44+0000","from":{"name":"Mohamed Tawfik","id":"10202822370278061"},"message":"elasticsearch\nhttps://www.elastic.co/","can_remove":false,"like_count":2,"user_likes":false,"id":"1377297188976652"},{"created_time":"2017-02-03T18:17:27+0000","from":{"name":"Hadeel Sharaf","id":"1528828493795372"},"message":"Use a database eng supports full text search .. ex postgresql .. or nosql like elastic search ..\nOr add a work around in your code to use regex instead ex replace the أ with (أ|إ|إ) ... And the same for other characters .. but I don't like the last solution .. regards","can_remove":false,"like_count":1,"user_likes":false,"id":"1377532035619834"},{"created_time":"2017-02-03T18:38:01+0000","from":{"name":"Ahmed Ashraf Gamal","id":"10212418043946652"},"message":"Speaking from hands on experience solving this problem,\nI've solved it using the same strategy Michael Azmy suggests\nI was bounded by a SQLite db (no regex), so what I did was...\n- Add another column (ex. SearchText), this column will contain the original text but transformed using a method like this.http://ideone.com/jlafst\n- Transform the search text taken from the user using the same method (now they both meet the same criteria).\n- Now query for the \"SearchText\" column, but display the original text column.","can_remove":false,"like_count":3,"message_tags":[{"id":"10155111151572718","length":12,"name":"Michael Azmy","offset":95,"type":"user"}],"user_likes":false,"id":"1377553132284391"},{"created_time":"2017-02-03T21:25:24+0000","from":{"name":"Rawan Lazkani","id":"1056510784453053"},"message":"If this is the only problem you can normalize the user queries and the database data.. like to remove الهمزة والنقط using regular expressions.... if you want similar results you can use sequence alignment  algorithms .","can_remove":false,"like_count":1,"user_likes":false,"id":"1377695398936831"},{"created_time":"2017-02-04T08:47:59+0000","from":{"name":"Momen Al Zalabany","id":"10158646474145144"},"message":"Dont use patterns. Use phonetics. Search by how word sound","can_remove":false,"like_count":1,"user_likes":false,"id":"1378121942227510"}],"paging":{"cursors":{"before":"WTI5dGJXVnVkRjlqZAFhKemIzSTZANVE0zTnpFME56YzNOVFkxT0RJMk1Eb3hORGcyTVRFMk9UTXcZD","after":"WTI5dGJXVnVkRjlqZAFhKemIzSTZANVE0zT0RFeU1UazBNakl5TnpVeE1Eb3hORGcyTVRrNE1EZA3cZD"}}}}