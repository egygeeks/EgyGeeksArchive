{"id":"172338516139198_1073271849379189","from":{"name":"Ahmed Amin","id":"1813081165632012"},"message":"السلام عليكم\n\nمن فضلكم يا شباب انا عاوز حد يعرفنى ويفهمنى الموضوع ده يتحل ازاى لأنى حاولت وبحثت على جوجل بس للأسف مفهمتش حاجة وجربت بعض الحلول وبرده مش شايف نتيجة مرضية\n\n** قاعدة البيانات MS SQL - حجمها حاليا 8 MB - الجهاز Core i7 - 8 GB DDR3 - VGA 2 GB\n\nمشكلتى مع Entity Framework - انا شغال بطريقة Code First From Database - الدنيا شغالة معايا كويس بس عندى مشكلتين:\n\n1. ان اى يوزر لما بيجى يعمل Login بياخد حوالى 30 ثانية عشان اللوجن يحصل ؟\n2. اول كويرى بيتم تنفيذه بياخد من 10 الى 20 ثانية - مثلا بعرض العملاء اللى عندى ؟ \n\nحاولت ودورت على جوجل كتير ولقيت ان ممكن تكون المشكلة عشان هو تقريبا بيتاكد ان الداتا موجودة والا لا والحل ان اضيف الجزء ده داخل Context بتاعتى\n\nDatabase.SetInitializer<MashobatDbContext>(null);\n\nضفتها وبرده ما زالت نفس القصة يمكن قلت حوالى 5 ثوانى تقريبا - ولما بحثت تانى لقيت ان المشكلة تقريبا بتكون فى وقت تنفيذ اول Query بيتم طلبه من Entity - وليها حل عن طريق Generate Views  بس مفهمتش حاجة :(\n\nقولت اسئلكم لأن اكيد فى حد واجهته نفس مشكلتى وممكن يكون وصل لحل ؟","actions":[{"name":"Comment","link":"https://www.facebook.com/172338516139198/posts/1073271849379189"},{"name":"Like","link":"https://www.facebook.com/172338516139198/posts/1073271849379189"},{"name":"Report Post to Admin","link":"https://www.facebook.com/groups/egyptian.geeks/members/"}],"privacy":{"value":"","description":"","friends":"","allow":"","deny":""},"type":"status","created_time":"2016-02-03T09:45:54+0000","updated_time":"2016-02-04T12:46:04+0000","is_hidden":false,"is_expired":false,"comments":{"data":[{"created_time":"2016-02-03T11:20:57+0000","from":{"name":"Said Bakr","id":"10154979109648745"},"message":"شوف الطريقة اللي بيتعمل بيها Hash للباسورد.","can_remove":false,"like_count":1,"user_likes":false,"id":"1073303732709334"},{"created_time":"2016-02-03T11:23:52+0000","from":{"name":"Ahmed Amin","id":"1813081165632012"},"message":"طيب ما هو نفس القصة لما بيعل او كويرى خاص بعرض العملاء مثلا","can_remove":false,"like_count":0,"user_likes":false,"id":"1073304769375897"},{"created_time":"2016-02-03T15:53:11+0000","from":{"name":"Ibrahim Zaki","id":"10155874856752738"},"message":"بخصوص login علشان تبقى اسرع اعمل index لل لوحن فيلدز\nو علشان الكويرز التانية تبقى اسرع و اخف اعملها paging","can_remove":false,"like_count":1,"user_likes":false,"id":"1073427456030295"},{"created_time":"2016-02-03T21:31:11+0000","from":{"name":"Mahmoud Abd El-Fattah","id":"10155412942040288"},"message":"Add a break point and get the query that Entity framework creates. Then execute the query on the database server to see if the query is the reason or not.","can_remove":false,"like_count":1,"user_likes":false,"id":"1073551942684513"},{"created_time":"2016-02-03T21:48:39+0000","from":{"name":"AbdulRahim Sayed Al-Refaey","id":"10206808739535776"},"message":"بلاش تستخدم ال Entity framework فى ال login .. لأن اول query فى الانتيتي فريم ورك بياخد وقت كبير .. استخدم بدلا منها ADO.NET او ممكن تسخدم extension زي ال dapper وهي اسرع من ال EF بمراحل","can_remove":false,"like_count":0,"user_likes":false,"id":"1073556439350730"},{"created_time":"2016-02-04T09:15:04+0000","from":{"name":"Mahmoud Elsayed Abd Elaty","id":"10154475733042406"},"message":"يفضل تستخدم Dapper وزي ما قال عبد الرحيم أسرع بكتير وبتنزله من nuget وعندك برضه Lu.AspnetIdentity.Dapper  ده بيربط dapper ب AspIdentity .\n\nواتاكد ان الكويري اللي بتكتبها تعملها في stored procedure أحسن وكمان  وقف lazyload في context","can_remove":false,"like_count":0,"user_likes":false,"id":"1073773209329053"},{"created_time":"2016-02-04T09:23:37+0000","from":{"name":"Ahmed Amin","id":"1813081165632012"},"message":"انا مش موقف lazyload  هل ده ممكن يكون سبب ؟\n\nومجربتش اشتغل ب stored procedure - هل هو افضل معEntity","can_remove":false,"like_count":0,"user_likes":false,"id":"1073776945995346"},{"created_time":"2016-02-04T09:25:01+0000","from":{"name":"Mahmoud Elsayed Abd Elaty","id":"10154475733042406"},"message":"الكويري اللي بتكتبها بتكون stored procedure ولا عن طريق lambda expression","can_remove":false,"like_count":0,"user_likes":false,"id":"1073777225995318"},{"created_time":"2016-02-04T09:25:31+0000","from":{"name":"Ahmed Amin","id":"1813081165632012"},"message":"lambda expression","can_remove":false,"like_count":0,"user_likes":false,"id":"1073777412661966"},{"created_time":"2016-02-04T09:26:31+0000","from":{"name":"Mahmoud Elsayed Abd Elaty","id":"10154475733042406"},"message":"هوه طبعا يفضل stored procedure  بس جرب الاول توقف طبعا lazyload","can_remove":false,"like_count":0,"user_likes":false,"id":"1073777659328608"}],"paging":{"cursors":{"before":"WTI5dGJXVnVkRjlqZAFhKemIzSTZANVEEzTXpNd016Y3pNamN3T1RNek5Eb3hORFUwTkRrNE5EVTMZD","after":"WTI5dGJXVnVkRjlqZAFhKemIzSTZANVEEzTXpjM056WTFPVE15T0RZAd09Eb3hORFUwTlRjM09Ua3gZD"}}}}