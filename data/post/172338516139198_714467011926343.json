{"id":"172338516139198_714467011926343","from":{"id":"627907956","name":"Emad Elsaid"},"to":{"data":[{"name":"Egyptian Geeks","id":"172338516139198"}]},"message":"Monitor directories sizes and take an action if one of them exceeded\n\nthis is a simple script for system administrators to monitor directories sizes\nand report to them if one of them exceeded the allocated size.\n\nthe problem arise if you're responsible of a system and wanted to monitor small websites\nsizes without blocking their expansion, so you'll have to create a deamon application that\nalert you when one of them exceeds the size expected.\n\nthis script will do so, it'll iterate on a set of directories and check their size\nand alert you if one of them exceeded their size, and will wait for one hour then try again\n\nyou can change the waiting period and directories set and sizes expected in bytes.\n\ngist: https://gist.github.com/9527136","picture":"https://fbcdn-sphotos-h-a.akamaihd.net/hphotos-ak-xap1/t1.0-9/s130x130/1798119_10151990258317957_1111562078_n.jpg","link":"https://www.facebook.com/photo.php?fbid=10151990258317957&set=gm.714467011926343&type=1&relevant_count=1","icon":"https://fbstatic-a.akamaihd.net/rsrc.php/v2/yz/r/StEh3RhPvjk.gif","actions":[{"name":"Comment","link":"https://www.facebook.com/172338516139198/posts/714467011926343"},{"name":"Like","link":"https://www.facebook.com/172338516139198/posts/714467011926343"}],"privacy":{"value":""},"type":"photo","object_id":"10151990258317957","application":{"name":"blazeeboy","namespace":"blazeeboy","id":"1400091873588797"},"created_time":"2014-03-13T14:21:11+0000","updated_time":"2014-03-13T22:22:03+0000","likes":{"data":[{"id":"1166811676","name":"Mahmoud Kandeel"}],"paging":{"cursors":{"after":"MTE2NjgxMTY3Ng==","before":"MTE2NjgxMTY3Ng=="}}},"comments":{"data":[{"id":"714471325259245","from":{"id":"1166811676","name":"Mahmoud Kandeel"},"message":"تسلم ياعمده، طيب ايه رايك تعمل اسكربت يعمل فحص للشبكة lan بحيث لو فيه عدد معين من لاجهزة ينفذا امر معين، ولو فيه اجهزة جديدة فتحت مثلاً يعمل لك تنبيه صوتى، و notification وايضا ينفذ اوامر telnet :)","can_remove":false,"created_time":"2014-03-13T14:33:52+0000","like_count":0,"user_likes":false},{"id":"714471471925897","from":{"id":"627907956","name":"Emad Elsaid"},"message":"انا عملت السكريبت ده بالبايثون قبل كده استنى ادور عليه","can_remove":false,"created_time":"2014-03-13T14:34:27+0000","like_count":1,"user_likes":false},{"id":"714471725259205","from":{"id":"1166811676","name":"Mahmoud Kandeel"},"message":"Eslam Hamouda عاوزينك فى المهمة دى معانا :)","message_tags":[{"id":"1614120164","name":"Eslam Hamouda","type":"user","offset":0,"length":13}],"can_remove":false,"created_time":"2014-03-13T14:35:25+0000","like_count":0,"user_likes":false},{"id":"714473098592401","from":{"id":"627907956","name":"Emad Elsaid"},"message":"اهه لاقيته http://www.linuxac.org/forum/threads/65232-Nadar-Network-Radar-%D8%AA%D8%B7%D8%A8%D9%8A%D9%82-%D8%A8%D8%A7%D9%8A%D8%AB%D9%88%D9%86-%D8%A8%D8%A5%D9%83%D8%AA%D8%B4%D8%A7%D9%81-%D8%A7%D9%84%D8%A3%D8%AC%D9%87%D8%B2%D8%A9-%D8%B9%D9%84%D9%89-%D9%86%D9%81%D8%B3-%D8%A7%D9%84%D8%B4%D8%A8%D9%83%D8%A9","can_remove":false,"created_time":"2014-03-13T14:38:03+0000","like_count":1,"user_likes":false},{"id":"714473891925655","from":{"id":"1166811676","name":"Mahmoud Kandeel"},"message":"Emad Elsaid انت راجل مية المية المية المية ياعمده (Y) تسلم ياكير، هجربه كده وهحاول اشوف اللى ناقصة واضيفه له ان عرفت :(","message_tags":[{"id":"627907956","name":"Emad Elsaid","type":"user","offset":0,"length":11}],"can_remove":false,"created_time":"2014-03-13T14:41:04+0000","like_count":1,"user_likes":false},{"id":"714474315258946","from":{"id":"627907956","name":"Emad Elsaid"},"message":"هتلاقيه بسيط ان شاء الله","can_remove":false,"created_time":"2014-03-13T14:42:26+0000","like_count":0,"user_likes":false},{"id":"714477218591989","from":{"id":"661261340","name":"Mohammad Tayseer"},"message":"It's a nice & very useful as it is now, but if you want to scale it you need to take care of two things\n1. This method won't work when the file is changed but the content is of the same size\n2. If the directories contain a lot of files (thousands)\n3. Queue changes\n\nThis can be useful https://pypi.python.org/pypi/watchdog","can_remove":false,"created_time":"2014-03-13T14:50:36+0000","like_count":0,"user_likes":false},{"id":"714478275258550","from":{"id":"627907956","name":"Emad Elsaid"},"message":"i got 2nd and 3rd point but i can't get 1st point, can you describe a use case ?","can_remove":false,"created_time":"2014-03-13T14:53:16+0000","like_count":0,"user_likes":false},{"id":"714485171924527","from":{"id":"661261340","name":"Mohammad Tayseer"},"message":"If I changed the content in a file from \"baba\" to \"mama\" then new_size will equal size & you won't call alert_size_exceeded","can_remove":false,"created_time":"2014-03-13T15:15:08+0000","like_count":1,"user_likes":false},{"id":"714485448591166","from":{"id":"661261340","name":"Mohammad Tayseer"},"message":"I don't want to sound like a guy who criticizes everybody's work. I admire your work (Y)","can_remove":false,"created_time":"2014-03-13T15:15:58+0000","like_count":1,"user_likes":false},{"id":"714486461924398","from":{"id":"627907956","name":"Emad Elsaid"},"message":"no it is ok criticism is fine i learn more from your codes and tips, \nare you sure about point 1? as i don't replace size in $directories_to_watch hash.","can_remove":false,"created_time":"2014-03-13T15:19:33+0000","like_count":0,"user_likes":false},{"id":"714488821924162","from":{"id":"661261340","name":"Mohammad Tayseer"},"message":"I revised your script & point 1 doesn't apply","can_remove":false,"created_time":"2014-03-13T15:27:20+0000","like_count":0,"user_likes":false},{"id":"714488901924154","from":{"id":"627907956","name":"Emad Elsaid"},"message":"هييييييييه :D","can_remove":false,"created_time":"2014-03-13T15:27:40+0000","like_count":0,"user_likes":false},{"id":"714506541922390","from":{"id":"755026046","name":"Mosab Ahmad"},"message":"On linux with a kernel version ≥ 2.6.13  you can also use pyinotify, a python interface to the kernel's inotify \n\ninotify is a Linux kernel subsystem that acts to extend filesystems to notice changes to the filesystem, and report those changes to applications.\n\nSo your application will not monitor the filesystem, it will just listen to the kernel, and whenver a watched directory(ies) change a notification is sent to your application accordingly. \n\nYou can also listen on specific actions and discard the rest.\n\nhttps://github.com/seb-m/pyinotify","can_remove":false,"created_time":"2014-03-13T16:20:05+0000","like_count":1,"user_likes":false},{"id":"714518758587835","from":{"id":"661261340","name":"Mohammad Tayseer"},"message":"Mosab Ahmad the package I mentioned earlier is cross-platform & uses the correct API on each OS","message_tags":[{"id":"755026046","name":"Mosab Ahmad","type":"user","offset":0,"length":11}],"can_remove":false,"created_time":"2014-03-13T16:48:44+0000","like_count":2,"user_likes":false},{"id":"714643648575346","from":{"id":"755026046","name":"Mosab Ahmad"},"message":"Didn't know that :)","can_remove":false,"created_time":"2014-03-13T22:22:03+0000","like_count":0,"user_likes":false}],"paging":{"cursors":{"after":"NzE0NjQzNjQ4NTc1MzQ2","before":"NzE0NDcxMzI1MjU5MjQ1"}}}}