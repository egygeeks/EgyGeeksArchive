{"id":"172338516139198_969478556425186","from":{"name":"Osama Mohamed","id":"1932899953606580"},"message":"Javascript , OOP , Callback , Phonegap\nAny help ?\n\n","story":"Osama Mohamed shared a link to the group: Egyptian Geeks.","story_tags":{"0":[{"id":"1932899953606580","name":"Osama Mohamed","type":"user","offset":0,"length":13}],"42":[{"id":"172338516139198","name":"Egyptian Geeks","type":"group","offset":42,"length":14}]},"picture":"https://fbexternal-a.akamaihd.net/safe_image.php?d=AQB2yVVw-2kRoLXq&w=130&h=130&url=http%3A%2F%2Fcdn.sstatic.net%2Fstackoverflow%2Fimg%2Fapple-touch-icon%402.png%3Fv%3Dea71a5211a91%26a&cfs=1&_nc_hash=AQBCPfH6cIWkKP5O","link":"http://stackoverflow.com/questions/31266215/","name":"javascript - OOP - executeSql return the result into a var , it shows undefined","caption":"stackoverflow.com","description":"I'm trying to use Phonegap function executeSql to fetch a SQL Query with a select statement , i'm just want to return a query results from my OOP function i read this question Return executeSQL fu...","icon":"https://www.facebook.com/images/icons/post.gif","actions":[{"name":"Comment","link":"https://www.facebook.com/172338516139198/posts/969478556425186"},{"name":"Like","link":"https://www.facebook.com/172338516139198/posts/969478556425186"},{"name":"Report Post to Admin","link":"https://www.facebook.com/groups/egyptian.geeks/members/"}],"privacy":{"value":"","description":"","friends":"","allow":"","deny":""},"type":"link","status_type":"shared_story","created_time":"2015-07-07T18:55:22+0000","updated_time":"2015-07-09T04:34:21+0000","is_hidden":false,"is_expired":false,"comments":{"data":[{"created_time":"2015-07-07T19:11:03+0000","from":{"name":"Ahmed Mahmoud","id":"1744998545829875"},"message":"لسه شايف السؤال الصبح  اتاريك انت :D","can_remove":false,"like_count":1,"user_likes":false,"id":"969482626424779"},{"created_time":"2015-07-07T19:12:36+0000","from":{"name":"Osama Mohamed","id":"1932899953606580"},"message":"مطلعة عيني من امبارح :D","can_remove":false,"like_count":1,"user_likes":false,"id":"969483906424651"},{"created_time":"2015-07-07T19:13:51+0000","from":{"name":"Ahmed Mahmoud","id":"1744998545829875"},"message":"اعملك اب فوت ياسطي اي خدمات :D","can_remove":false,"like_count":1,"user_likes":false,"id":"969484233091285"},{"created_time":"2015-07-07T19:15:38+0000","from":{"name":"Osama Mohamed","id":"1932899953606580"},"message":"تسلم بس عاوز حل بجد :\\","can_remove":false,"like_count":0,"user_likes":false,"id":"969484823091226"},{"created_time":"2015-07-07T20:09:52+0000","from":{"name":"Ahmed Ibrahim Khalil","id":"10154434352503657"},"message":"في السطر دا \nvar myResult = newInvoice.read();\nالمشكلة انك معتمد ان دي \nBlocking Operation\nبس هي Non Blocking\nيعني المفروض الصح يكون\nnewInvoice.read(function(myResult) {\nalert(myResult);\n});\n\nهتلاقي الكود بطريقة منظمة هنا\nhttps://jsfiddle.net/uwcfq8ww/","can_remove":false,"like_count":2,"user_likes":false,"id":"969504673089241"},{"created_time":"2015-07-07T20:53:26+0000","from":{"name":"Osama Mohamed","id":"1932899953606580"},"message":"قرأت ده\nhttp://stackoverflow.com/questions/1898178/callback-return-value-and-html5-executesql-function\nلما بجربها زي ما حضرتك قلت بتطلع تمام\nلكن لما بعملها كدا\nvar myResult = newInvoice.read(function(myResult) {\n    return myResult;\n});\nalert(myResult);\nبيقول undefined :/","can_remove":false,"like_count":0,"user_likes":false,"id":"969514706421571"},{"created_time":"2015-07-08T00:38:41+0000","from":{"name":"Hassan Aly Selim","id":"10155071713202292"},"message":"In your code, the alert is outside of the callback, which means that it happens right after the read \"begins\" but before the read \"ends\" (because the read actually happens in parallel anynscronously), so the alert has to be inside the callback dunction (before the closing braces/brackets) for it to happen after the read ends, so yes anything that needs \"myResult\" needs to be written inside that callback function, anything you need to happen after that read is done has to be moved from outside to inside that callback function.\n\nif you still don't understand what's going on, see if you could put some breakpoints in the code to see the order in which things are executed.","can_remove":false,"like_count":1,"user_likes":false,"id":"969571573082551"},{"created_time":"2015-07-08T01:41:26+0000","from":{"name":"Ahmed Mahmoud","id":"1744998545829875"},"message":"هو ده اللي كنت بتكلم عليه Asynchronous   الداله بتاخد وقت وانت بتنفذ حاجة بعديها ع طول","can_remove":false,"like_count":1,"user_likes":false,"id":"969585966414445"},{"created_time":"2015-07-08T14:58:06+0000","from":{"name":"Osama Mohamed","id":"1932899953606580"},"message":"طيب هل معنى كدا إني مش هأقدر أحفظ الداتا ف فاريبول ؟","can_remove":false,"like_count":0,"user_likes":false,"id":"969829436390098"},{"created_time":"2015-07-08T15:00:42+0000","from":{"name":"Hassan Aly Selim","id":"10155071713202292"},"message":"Put it in a variable, do whatever you want with the data ... but do all of that inside the callback function! Because this function is called when the data is available, otherwise it will still be undefined.","can_remove":false,"like_count":1,"user_likes":false,"id":"969830146390027"},{"created_time":"2015-07-08T15:00:44+0000","from":{"name":"Osama Mohamed","id":"1932899953606580"},"message":"@ Hassan Aly Selim  , @ Sky Walker  \nالمفروض بناءا على كلامكم لو خليتها تعمل return بعد 5 ثواني مثلا \"ودا وقت كبير جدا بالنسبة للي بتاخده الفانكشن عشان تتنفذ\" ان كل حاجة تتم تمام\nﻷن اللي فهمته ان المشكلة مشكلة وقت مش أكتر\nبس أنا جربت الكود بالصورة دي ونفس الفكرة مش بيحفظ الدتا :/","can_remove":false,"like_count":0,"user_likes":false,"id":"969830159723359"},{"created_time":"2015-07-08T15:00:46+0000","from":{"name":"Osama Mohamed","id":"1932899953606580"},"message":"var newInvoice = new Invoice();\nvar myResult = newInvoice.read(function(myResult) {\n    setTimeout(function(){ return(myResult); }, 5000);\n});\nsetTimeout(function(){ alert(myResult); }, 6000);","can_remove":false,"like_count":0,"user_likes":false,"id":"969830176390024"},{"created_time":"2015-07-08T15:01:59+0000","from":{"name":"Osama Mohamed","id":"1932899953606580"},"message":"@ Hassan Aly Selim \nطب ازاي ممكن فكرة للحل :/","can_remove":false,"like_count":0,"user_likes":false,"id":"969830473056661"},{"created_time":"2015-07-08T15:12:13+0000","from":{"name":"Hassan Aly Selim","id":"10155071713202292"},"message":"var newIvoice = new Invoice();\nvar myResult;\nnewInvoice.read(function(r} { myResult = r; });\nsetTimeout(function() { alert(myResult); }, 6000);\n\nThis will work, but that is NOT how you use asynchronous functions, you need to read about it because it's a very different way of thinking that is hard to explain in a comment.","can_remove":false,"like_count":0,"user_likes":false,"id":"969835926389449"},{"created_time":"2015-07-08T15:28:12+0000","from":{"name":"Osama Mohamed","id":"1932899953606580"},"message":"للأسف بيطلع undefined \nhttp://jsfiddle.net/OsamaMohamed/b7e96qn4/","can_remove":false,"like_count":0,"user_likes":false,"id":"969840886388953"},{"created_time":"2015-07-08T15:34:00+0000","from":{"name":"Osama Mohamed","id":"1932899953606580"},"message":"ممكن مصادر للحاجات دي لاني مش عارف اوصل لحاجة واضحة :/","can_remove":false,"like_count":0,"user_likes":false,"id":"969842929722082"},{"created_time":"2015-07-08T15:51:42+0000","from":{"name":"Hassan Aly Selim","id":"10155071713202292"},"message":"Well this now went outside my knowledge, because I haven't dealt with PhoneGap before :D\nI was just trying to help you understand the concept of asynchrony, the same behavior applies to many other languages and frameworks (.Net used to be like that before the new async/await system).","can_remove":false,"like_count":1,"user_likes":false,"id":"969848116388230"},{"created_time":"2015-07-08T15:55:17+0000","from":{"name":"Osama Mohamed","id":"1932899953606580"},"message":"طيب ممكن ريسورسس كويسة للموضوع بشكل عام","can_remove":false,"like_count":0,"user_likes":false,"id":"969849369721438"},{"created_time":"2015-07-08T16:22:32+0000","from":{"name":"Hassan Aly Selim","id":"10155071713202292"},"message":"Sadly, I don't have a resource for this, I can't remember when and how I learn about this asynchronous pattern :\\","can_remove":false,"like_count":0,"user_likes":false,"id":"969856496387392"},{"created_time":"2015-07-09T04:32:22+0000","from":{"name":"Meligy","id":"10154884040385170"},"message":"Try to follow something like http://www.adamwadeharris.com/remote-debugging-in-phonegap-with-chrome-devtools/ to debug the app\nSee if there are errors in the console","can_remove":false,"like_count":0,"user_likes":false,"id":"970063253033383"},{"created_time":"2015-07-09T04:34:21+0000","from":{"name":"Meligy","id":"10154884040385170"},"message":"Once you have that setup, you can also add breakpoint, use this version http://jsfiddle.net/b7e96qn4/1/ with debugger statemenets (like breakpoints, or just use breakpoints) and examine what arguments were passed and what their values were.","can_remove":false,"like_count":0,"user_likes":false,"id":"970063786366663"}],"paging":{"cursors":{"before":"WTI5dGJXVnVkRjlqZAFhKemIzSTZAPVFk1TkRneU5qSTJOREkwTnpjNU9qRTBNell5T1RZAeU5qTT0ZD","after":"WTI5dGJXVnVkRjlqZAFhKemIzSTZAPVGN3TURZAek56ZAzJNelkyTmpZAek9qRTBNelkwTVRZAME5qRT0ZD"}}}}