{"id":"172338516139198_1136626493043724","from":{"name":"Mohamed Amin","id":"1468423219844248"},"message":"دلوقتي انا عندي داتا بيز فيها ال notificcation_id - ,وببعت للناس كلها notification \nساعات بيبقى فيه واحد عنده 2 اكونت على نفس الموبيل فبيروحله 2  notifications\n لان جوجل بتدي لنفس الموبيل notitifiaction_id  مختلفة وهوا بيعمل register \nازاي احل المشكلة دي ؟ \n#help","actions":[{"name":"Comment","link":"https://www.facebook.com/172338516139198/posts/1136626493043724"},{"name":"Like","link":"https://www.facebook.com/172338516139198/posts/1136626493043724"},{"name":"Report Post to Admin","link":"https://www.facebook.com/groups/egyptian.geeks/members/"}],"privacy":{"value":"","description":"","friends":"","allow":"","deny":""},"type":"status","created_time":"2016-05-03T14:28:47+0000","updated_time":"2016-05-04T07:47:40+0000","is_hidden":false,"is_expired":false,"likes":{"data":[{"id":"10155975829509012","name":"Mohamed Ibrahim Gaber"},{"id":"10154264552927478","name":"Anas Emad"},{"id":"1285105998248677","name":"Ahmed Badawy"},{"id":"10154534159283282","name":"Ahmed Abdo"}],"paging":{"cursors":{"before":"MTAxNTU5NzU4Mjk1MDkwMTIZD","after":"MTAxNTQ1MzQxNTkyODMyODIZD"}}},"comments":{"data":[{"created_time":"2016-05-03T14:33:24+0000","from":{"name":"Nasser Mohammed Ali","id":"10210662049681845"},"message":"check for device id","can_remove":false,"like_count":4,"user_likes":false,"id":"1136628019710238"},{"created_time":"2016-05-03T14:33:41+0000","from":{"name":"Mostafa Hussein","id":"599781276899213"},"message":"مفيش اي column زيادة تضيفه لل select بتاعتك عشان تقدر تفرق بين كل اكونت و التاني اللي علي نفس الجهاز ؟ \naccount id مثلا ؟","can_remove":false,"like_count":1,"user_likes":false,"id":"1136628119710228"},{"created_time":"2016-05-03T14:33:55+0000","from":{"name":"Emad Elsaid","id":"10154379038212957"},"message":"لو عندك نفس ال notification_id لنفس الموبايل ايه المانع من انك ت select distinct من الداتابيز؟","can_remove":false,"like_count":0,"user_likes":false,"id":"1136628263043547"},{"created_time":"2016-05-03T14:34:43+0000","from":{"name":"Muhammad Helmi","id":"812426742247894"},"message":"ازاى 2 اكونت بنفس الايميل ده شىء مش عملى","can_remove":false,"like_count":0,"user_likes":false,"id":"1136628463043527"},{"created_time":"2016-05-03T14:41:41+0000","from":{"name":"Ahmed Badawy","id":"1285105998248677"},"message":"ازاى 2 اكونت عل نفس الموبيل منغير ميبقى معاك طريقة لمعرفة مين موجود مرتين. \n\nعموما الحل فالتالى: حاول تلاقى طريقة تختار بيها ال notification id. و بعدين حط الاتنين بنفس ال id. و كدة هي register مرة واحدة بس.","can_remove":false,"like_count":1,"user_likes":false,"id":"1136631196376587"},{"created_time":"2016-05-03T14:41:48+0000","from":{"name":"Ahmed Refaey","id":"1471343682885337"},"message":"اعمل flag اسمه sent على مستوي الموبيل وشوف لو الرساله بمحتوياتها دى اتكررت مع نفس اليوز والجهاز بس على الflag لو كان اتبعت متبعتهاش تانى","can_remove":false,"like_count":0,"user_likes":false,"id":"1136631263043247"},{"created_time":"2016-05-03T14:44:15+0000","from":{"name":"Emad Elmogy","id":"750667738418523"},"message":"وانت بتعملها خليها على ال device id احسن","can_remove":false,"like_count":2,"user_likes":false,"id":"1136632133043160"},{"created_time":"2016-05-03T14:49:19+0000","from":{"name":"Mohamed Amin","id":"1468423219844248"},"message":"دلوقتي انا لو عاوز ابعت notification  لأي حد محتاج notification_id\nجوجل هيا اللي بتوفره . \nلو انا نزلت نسخة او شيلت الابلكيشن ونزلته تاني وعملت اكونت جديد . \nساعتها باعمل register  عادي جدا بيتسجل ليه notification_id  جديد  \nلو اناحبيبت ابعت بقى notifiaction  بيجي للموبيل دا notification مرتين مش مرة واحدة \nاحنا جربنا نحط قيمة في  shared prefrence   حاجة زي الsessionفي الويب كدا . \nحليت المشكلة طول ما الابلكيشن موجود بس لو شاله ونزل نسخة تانية بتتمسح معاه . \nالاندرويد ديفلوبر على Stackoverflow  جاب حل حطيته في اول كومنت وطلع معروف نسبيا .","can_remove":false,"like_count":0,"user_likes":false,"id":"1136633916376315"},{"created_time":"2016-05-03T14:58:58+0000","from":{"name":"Ehab Elwan","id":"618487621679079"},"message":"GCM ID should be associated with a device using ID and it's better to be generated on server to grantee uniqueness and update it once the user opens the app after getting new id\nAlso note that gcm ID can be changed on the device without uninstall,so you should handle this case.\nNormally if the user uninstalled the app the gcm ID will be invalid, make sure that you're not sending twice to the same ID \n\nAnother solution that you save the gcm ID on the device and send it with every message and validate on mobile side if this is sent to the current ID or not (I don't recommend it at all)","can_remove":false,"like_count":3,"user_likes":false,"id":"1136637049709335"},{"created_time":"2016-05-03T15:17:18+0000","from":{"name":"Ahmed Abdulmoniem","id":"10155036654550996"},"message":"بص ببساطة عشان الحل ده أنا لسة عامله في iPromogator\n\nهتعمل عمود زيادة في بيانات العميل (إللي بينزلي الموبايل) اسمه loggedIn مثلاً هيبقى Flag\n\nكل ما العميل يخش باسم مختلف من نفس الموبايل هتلف على كل ال customers إللي عندك إللي  شايلين نفس ال device id وتخلي ال loggedIn بـ false\n\nوتخلي إللي دخل دلوقتي هو بس إللي true\n\nوإنت بتبعت بقا هتبعت للناس إللي عاملين loggedIn بـ true","can_remove":false,"like_count":2,"user_likes":false,"id":"1136643223042051"},{"created_time":"2016-05-03T15:38:56+0000","from":{"name":"Mohammed Ragab","id":"1853893101565633"},"message":"2 اكونت مع نفس ال api key بتاع الأبلكشن !! المفروض ان جوجل بيغير regId كل فترة او لو اليوزر غير الباكيدج فالمفروض انت بتعمل service فى الباك جرواند تحدث ال regid اول ما جوجل يغير بأى ألية وانت بتبعت ه select regId بدلالة ال USERID فالمفروض ان هيجيلك regid واحد هتبعتله","can_remove":false,"like_count":1,"user_likes":false,"id":"1136651139707926"},{"created_time":"2016-05-03T15:39:58+0000","from":{"name":"Mohammed Ragab","id":"1853893101565633"},"message":"ال service عشان تضمن ان عندك على الداتا بيس دايما ال valid regId","can_remove":false,"like_count":1,"user_likes":false,"id":"1136651406374566"},{"created_time":"2016-05-03T15:40:32+0000","from":{"name":"Mokhtar Ali Ebrahim","id":"10154396259187742"},"message":"وانت بتعمل register سجل باميل مثلا وساعة ما يصطب البرنامج مره اخرى فقط اعمل بحث وتحديث لل GCM key في القاعدة عندك","can_remove":false,"like_count":1,"user_likes":false,"id":"1136651629707877"},{"created_time":"2016-05-03T15:53:24+0000","from":{"name":"Mostafa Alaa","id":"10212166485346943"},"message":"Mina Nabil","can_remove":false,"like_count":0,"message_tags":[{"id":"10155074752858486","length":10,"name":"Mina Nabil","offset":0,"type":"user"}],"user_likes":false,"id":"1136659236373783"},{"created_time":"2016-05-03T16:42:47+0000","from":{"name":"Said Bakr","id":"10154979109648745"},"message":"خلي رقم الموبايل خاصية فريدة unique","can_remove":false,"like_count":0,"user_likes":false,"id":"1136687636370943"},{"created_time":"2016-05-03T19:33:43+0000","from":{"name":"Mahmoud Mortda","id":"1480228465362952"},"message":"كل جهاز انرويد ليه. Id. مبيتغيرش","can_remove":false,"like_count":1,"user_likes":false,"id":"1136763096363397"},{"created_time":"2016-05-03T19:49:07+0000","from":{"name":"Ahmed Tarek","id":"1812348525681575"},"message":"الـGCM ID هيبقى unregistered بمجرد ما المستخدم يعمل uninstall للـapp بتاعك من على الموبايل وبالتالي ازاي الـnotification هتجيلو مرتين؟؟؟!!!\nاما لو انت بتتكلم ان المستخدم عمل اكونت من الـapp بتاعك وبعد كده عمل logout وبعد كده رجع عمل اكونت جديد فكده اصبح عندك على السيرفر ٢ اكونت ليهم نفس الـGCM ID\nأعتقد هي دي مشكلتك ولا ايه!\nلو هي دي المشكلة\nالحل الصح لازم يكون من على السيرفر مش من على الموبايل طبعا\nوانه لازم ميحطش اي gcm id اكتر من مرة في الـarray اللي هو هيبعتها لـ google server","can_remove":false,"like_count":0,"user_likes":false,"id":"1136777163028657"},{"created_time":"2016-05-03T23:55:18+0000","from":{"name":"Mohamed Moshrif","id":"1235868066468537"},"message":"هو أنا عايز ارد رد مخلف عن الناس كلها. هو ليه أصلا أنت عايز تبعت مره واحدة؟! ال user اختار انه يكون عنده حسابين على نفس التليفون يبقي ده اختياره. بالضبط زي ما يكون عندك حسابين بريد الكتروني فيهم واحد عامل mirror للتاني بس لما بتبعت اميل بيجيلك 2 notifications مع انهم نفس الايمل؟!\nالمشكلة إن معظم الحلول المقترحه هتعمل مشاكل كتير. مثلا شال ايمل منهم من على الجهاز, فيه ايمل فيهم ال password اتغيرت ونسي  يعمل update على التليفون, لغي الحساب من واحد فيهم, الخ.\nمحتاج تشوف كل السيناريوهات الممكنه لو عايز تستخدم أي حل من دول","can_remove":false,"like_count":0,"user_likes":false,"id":"1136871659685874"},{"created_time":"2016-05-04T06:40:47+0000","from":{"name":"Eslam El-Meniawy","id":"1502821403062786"},"message":"Device ID or sim serial or device serial\nاللى موجود منهم او خليط بين الـ ٣ لان مش كلهم موجودين في كل الاجهزة","can_remove":false,"like_count":1,"user_likes":false,"id":"1137051256334581"},{"created_time":"2016-05-04T07:24:00+0000","from":{"name":"Mohamed Amin","id":"1468423219844248"},"message":"الحمدلله المشكلة اتحلت بطريقتين : \nالحل الاول زي ما الناس قالت عن طريق device_id  .","can_remove":false,"like_count":0,"user_likes":false,"id":"1137073302999043"},{"created_time":"2016-05-04T07:28:09+0000","from":{"name":"Mohamed Amin","id":"1468423219844248"},"message":"الحل التاني عن طريق \nاننا ببعت id  من السيرفربيتيغير مع كل notification جديدة واعمل check في ال application \nلو جاله قبل كدا ال id  دا مضيفش ال notification  وبكدا نضمن انه على نفس ال device  ميظهرولوش 2 notification اواكتر. \n\nشكرا ليكم جدا :*","can_remove":false,"like_count":0,"user_likes":false,"id":"1137074672998906"},{"created_time":"2016-05-04T07:47:40+0000","from":{"name":"George Awad","id":"1368029896602856"},"message":"ممكن اول ما يوزر يعمل لوج أوت تعمل ويب سيرفس تعرف مين الأكونت الاون لاين حاليا زي ما بنعملها عندنا في برامج الدردشه او اي برامج معتمد علي اكثر من مستخدم","can_remove":false,"like_count":1,"user_likes":false,"id":"1137082896331417"}],"paging":{"cursors":{"before":"WTI5dGJXVnVkRjlqZAFhKemIzSTZANVEV6TmpZAeU9EQXhPVGN4TURJek9Eb3hORFl5TWpnMk1EQTEZD","after":"WTI5dGJXVnVkRjlqZAFhKemIzSTZANVEV6TnpBNE1qZAzVOak16TVRReE56b3hORFl5TXpRNE1EWXcZD"}}}}