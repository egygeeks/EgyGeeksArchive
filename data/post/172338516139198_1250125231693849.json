{"id":"172338516139198_1250125231693849","from":{"name":"Mostafa Mohamed","id":"10212320139347568"},"message":"hello geeks,\ni have a question ...\ni made a framework of applications ... its something private that i have been working on.\nso in order to put it in action i needed 2 pc's running windows server.\n\nit consists of several nodes\n\nmain_node <-> security node <-> auth_node <-> Node_Manager <-> gateway\n\nNode_Manager:\n->client_node <-> launches the nodes 1~x the the same server for client_node.\n->Node 1\n->Node 2\n->Node 3\netc ....\n\nthe problem is that my client_node could be launched several times.\nwhen i made it i designed it that way for security reason and load balancing\n\nso when ever i launch the client_node the Node_Manager asks for both (internal ip,wan ip)\nand starts to manage the session encryption between every node (its dynamic for every node depends on the time/ip subnets)\n\nso i can not launch the client_node more that one time on the same system because of the ip subnet and nodes mutex.\n\ni ran it on a vps.\nwhat i need is to make the windows act like if it has another Ethernet adapter with another ip to force the node to create\ndifferent mutex.\n\nso here is what i have tried\n- a vm system hosting windows server and i tried all types of ethernet config available\n- external vpn which worked fine except the node asks for a local ip to connect back to.\n- a loopback adapter\n- a proxy hosted on another system except it asks for a local ip\n- creating a system hook service and push back every packet to the buffer as a temp fix but it didn't work because of my in-app virtualization\n- creating custom firewall routes using powershell\n\ni suffered from that problem for weeks,\nso any suggestions?\n\nthanks!","actions":[{"name":"Comment","link":"https://www.facebook.com/172338516139198/posts/1250125231693849"},{"name":"Like","link":"https://www.facebook.com/172338516139198/posts/1250125231693849"},{"name":"Report Post to Admin","link":"https://www.facebook.com/groups/egyptian.geeks/members/"}],"privacy":{"value":"","description":"","friends":"","allow":"","deny":""},"type":"status","created_time":"2016-10-05T14:59:07+0000","updated_time":"2016-10-12T12:28:42+0000","is_hidden":false,"is_expired":false,"comments":{"data":[{"created_time":"2016-10-05T16:41:48+0000","from":{"name":"Khaled M. Diab","id":"10212550395463324"},"message":"If I understood this correct, did you try launching client node with same ip but different port? Also, I think you can find some open source tools and/or algorithms to manage such a distributed system...","can_remove":false,"like_count":0,"user_likes":false,"id":"1250191425020563"},{"created_time":"2016-10-05T17:27:59+0000","from":{"name":"Mostafa Mohamed","id":"10212320139347568"},"message":"first of all, thank you for your replay.\nyes i tried different ports but the problem that the security node filters any other connection because of the ip address subnet check .... when i tried the vpn i configured portforword and also configured the main node to start on the vpn's subnet","can_remove":false,"like_count":0,"user_likes":false,"id":"1250217621684610"},{"created_time":"2016-10-05T18:08:32+0000","from":{"name":"يصفيد بن ذاعات","id":"245030945959317"},"message":"Continuing on Khaled M. Diab answer cannot you filter based on socket not ip then load balance the clients it seems just the matter of recognising the port","can_remove":false,"like_count":0,"user_likes":false,"id":"1250240478348991"},{"created_time":"2016-10-05T18:13:06+0000","from":{"name":"Khaled M. Diab","id":"10212550395463324"},"message":"how did you implement the security node? or more specifically the encryption algorithm?\nfor example, tcp enables (de)multiplexing using (ip address,port) tuples.","can_remove":false,"like_count":0,"user_likes":false,"id":"1250242965015409"},{"created_time":"2016-10-12T12:28:13+0000","from":{"name":"Mostafa Mohamed","id":"10212320139347568"},"message":"i have implemented a reverse vpn connection as a work around until i find another way .... thanks all","can_remove":false,"like_count":0,"user_likes":false,"id":"1255717024468003"}],"paging":{"cursors":{"before":"WTI5dGJXVnVkRjlqZAFhKemIzSTZANVEkxTURFNU1UUXlOVEF5TURVMk16b3hORGMxTmpnMU56QTQZD","after":"WTI5dGJXVnVkRjlqZAFhKemIzSTZANVEkxTlRjeE56QXlORFEyT0RBd016b3hORGMyTWpjMU1qa3oZD"}}}}