{"id":"172338516139198_1221479477891758","from":{"name":"Hossam Mohammed","id":"1448877658497908"},"message":"أنا بعمل pagination لصفحة ما فمنتدي. فالأول كنت بعمل select للrecords كلها من الداتابيز واعرض فكل صفحة 15. بس حسيت إن انا كده بعمل select للrows انا مش محتاجها ولو عدد الrows كبر جدا مثلا الصفحة هتبقي تقيلة جدا. رحت بقيت اختار 15 row فكل query علي حسب الصفحة بس قابلتني مشكلة جديدة اني مش بكون عارف عدد الrows اللي فالtable اللي انا بجيب الداتا منه وبالتالي مش عارف اعمل عدد الصفحات بس. بفكر اعمل query تجيب العدد من الداتابيز بس مش حاسس إن انا كده رجعت للأول تاني وبرضه هتقل الصفحة.باختصار الquery بتاعة الcount هتكون تقيلة لما الrows تكتر برضوا زيها زي الselect عادي ولا هتبقي اخف علي اساس انه بيعد بس مش هيعمل fetch للداتا. انا بستخدم php &mysql","actions":[{"name":"Comment","link":"https://www.facebook.com/172338516139198/posts/1221479477891758"},{"name":"Like","link":"https://www.facebook.com/172338516139198/posts/1221479477891758"},{"name":"Report Post to Admin","link":"https://www.facebook.com/groups/egyptian.geeks/members/"}],"privacy":{"value":"","description":"","friends":"","allow":"","deny":""},"type":"status","created_time":"2016-09-03T02:09:14+0000","updated_time":"2016-09-03T22:02:55+0000","is_hidden":false,"is_expired":false,"likes":{"data":[{"id":"1192564127508771","name":"Ahmed Hamdy"},{"id":"1334747269945315","name":"Bellal Mohamed"},{"id":"1285105998248677","name":"Ahmed Badawy"},{"id":"2226589100700135","name":"Nashwa Ashour"}],"paging":{"cursors":{"before":"MTE5MjU2NDEyNzUwODc3MQZDZD","after":"MjIyNjU4OTEwMDcwMDEzNQZDZD"}}},"comments":{"data":[{"created_time":"2016-09-03T02:14:35+0000","from":{"name":"Meligy","id":"10154884040385170"},"message":"دي طريقة معتادة وشبه standard في حوار الـ paging. انك تعمل 2 queries واحد منهم يكون مجرد count مش أكتر. فيه ORMs كتير بتسمح لك إنك تبعت الاتنين في DB connection واحد.\nمثلا في Entity Framework فيه https://github.com/loresoft/EntityFramework.Extended/wiki/Future-Queries","can_remove":false,"like_count":10,"user_likes":false,"id":"1221481711224868"},{"created_time":"2016-09-03T02:20:47+0000","from":{"name":"Rafael Adel","id":"10155242150027122"},"message":"لو تعرف تخلي الpagination يتعمل ajax..  فتجيب ال total في اول ركويست بعد كدا تعمل الركويست العادي بال ajax بكده هتعمل اول كا الصفحة تفتح 2 requests  لكن بعد كدا واحدة","can_remove":false,"like_count":1,"user_likes":false,"id":"1221484037891302"},{"created_time":"2016-09-03T02:51:07+0000","from":{"name":"Ahmed Kh'aled","id":"1340434959359755"},"message":"في ال rails كان في حاجة اسمها offset و limit لما تيجي ت inquire ال mode/database في حالتك دي مثلاً هعمل ال limit 15 وال offset هيكون حاصل ضرب رقم الصفحة الي انت فيه في 15","can_remove":false,"like_count":2,"user_likes":false,"id":"1221498967889809"},{"created_time":"2016-09-03T02:58:01+0000","from":{"name":"Amar Mo","id":"10154285253642190"},"message":"كويري العدد خفيفة وسريعة مش زي كويري انك تجيب الداتا كلها.\nتفكيرك الاخير هو اللي بيحصل عادة في نظام ال relational databases وهو الافضل","can_remove":false,"like_count":8,"user_likes":false,"id":"1221502677889438"},{"created_time":"2016-09-03T03:20:13+0000","from":{"name":"Amr Tharwat","id":"10210443187453193"},"message":"http://stackoverflow.com/a/5060385/1937483","can_remove":false,"like_count":1,"user_likes":false,"id":"1221511741221865"},{"created_time":"2016-09-03T10:24:59+0000","from":{"name":"Ahmad Hisham","id":"10158274819655058"},"message":"The SQL count operation is not expensive, especially if it has no conditions, but to get the best performance when having a condition, then keep an index over the column of condition(s).","can_remove":false,"like_count":2,"user_likes":false,"id":"1221725627867143"},{"created_time":"2016-09-03T18:35:38+0000","from":{"name":"George Kastour","id":"10212602524963785"},"message":"https://datatables.net","can_remove":false,"like_count":0,"user_likes":false,"id":"1222097604496612"},{"created_time":"2016-09-03T18:36:07+0000","from":{"name":"George Kastour","id":"10212602524963785"},"message":"this may help you, good luck","can_remove":false,"like_count":0,"user_likes":false,"id":"1222097954496577"},{"created_time":"2016-09-03T20:54:48+0000","from":{"name":"Mohammed Ragab","id":"1853893101565633"},"message":"you can use pagedlist   or you can do this manually in two query one of this query get 10 rows for example in first page and next page skip 10 row and fetch 10 rows , the second query select count form table get count of expected rows","can_remove":false,"like_count":1,"user_likes":false,"id":"1222195384486834"},{"created_time":"2016-09-03T21:57:49+0000","from":{"name":"Maher Samir","id":"1350030681723646"},"message":"لا الكويري بتاعت الكاونت مش هاتكون تقيله زي ما انت متخيل لحد مدي معين لان هيا مش بترجع داتا كتير دي بترجع مجرد رقم والماي سيكوال عموما الكويري بتاع الكاونت هيا بتستخدمه عادي مثلا لما بتفتح phpmyadmin هاتلاقي كل جدول قدامه عدد صفوفه والصفحه بتحمل معاك عادي لما تعمل كاونت اعمل كاونت علي الكولم الرئيسي الي في الجدول الي هوا معموله اندكس primary و unique","can_remove":false,"like_count":2,"user_likes":false,"id":"1222236881149351"},{"created_time":"2016-09-03T22:00:27+0000","from":{"name":"Maher Samir","id":"1350030681723646"},"message":"http://code.tutsplus.com/tutorials/how-to-paginate-data-with-php--net-2928 حاجه زي كدة ممكن تشرحلك الفكرة وممكن تستخدمها بردو اختصارا للوقت","can_remove":false,"like_count":1,"user_likes":false,"id":"1222238564482516"},{"created_time":"2016-09-03T22:02:47+0000","from":{"name":"Maher Samir","id":"1350030681723646"},"message":"رد زي دا مشروح فيه الكود بالكومنتات http://stackoverflow.com/a/20015621","can_remove":false,"like_count":1,"user_likes":false,"id":"1222239497815756"}],"paging":{"cursors":{"before":"WTI5dGJXVnVkRjlqZAFhKemIzSTZANVEl5TVRRNE1UY3hNVEl5TkRnMk9Eb3hORGN5T0RZANE9EYzMZD","after":"WTI5dGJXVnVkRjlqZAFhKemIzSTZANVEl5TWpJek9UUTVOemd4TlRjMU5qb3hORGN5T1RRd01UY3cZD"}}}}